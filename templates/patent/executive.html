{% extends "base.html" %}

{% block title %}æ‰§è¡Œæ‘˜è¦æŠ¥å‘Š{% endblock %}

{% block header_title %}æ‰§è¡Œæ‘˜è¦æŠ¥å‘Š{% endblock %}

{% block extra_css %}
.executive-section {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    padding: 30px;
    margin: 30px 0;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
.key-finding {
    background: #fff;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
    border-left: 5px solid #007acc;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.metric-dashboard {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin: 25px 0;
}
.metric-card {
    background: #fff;
    padding: 25px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    transition: transform 0.2s ease;
}
.metric-card:hover {
    transform: translateY(-2px);
}
.metric-number {
    font-size: 2.5em;
    font-weight: bold;
    color: #007acc;
    margin-bottom: 10px;
}
.metric-title {
    font-size: 1.1em;
    color: #333;
    font-weight: 600;
}
.metric-subtitle {
    font-size: 0.9em;
    color: #666;
    margin-top: 5px;
}
.executive-chart {
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.priority-box {
    background: #e8f5e8;
    border: 2px solid #4caf50;
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
}
.priority-high { border-color: #f44336; background: #ffebee; }
.priority-medium { border-color: #ff9800; background: #fff3e0; }
.priority-low { border-color: #4caf50; background: #e8f5e8; }
.recommendation-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 25px 0;
}
.recommendation-card {
    background: #fff;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}
.recommendation-title {
    color: #007acc;
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 15px;
}
{% endblock %}

{% block content %}
<!-- æ ¸å¿ƒå‘ç° -->
{% if content.summary %}
<div class="executive-section">
    <h2>ğŸ¯ æ ¸å¿ƒå‘ç°</h2>
    <div class="key-finding">
        <p style="font-size: 1.1em; line-height: 1.8;">{{ content.summary }}</p>
    </div>
</div>
{% endif %}

<!-- å…³é”®æŒ‡æ ‡ä»ªè¡¨æ¿ -->
<div class="executive-section">
    <h2>ğŸ“Š å…³é”®æŒ‡æ ‡</h2>
    <div class="metric-dashboard">
        <div class="metric-card">
            <div class="metric-number">{{ content.metadata.get('total_patents', 'N/A') }}</div>
            <div class="metric-title">æ€»ä¸“åˆ©æ•°</div>
            <div class="metric-subtitle">åˆ†æèŒƒå›´</div>
        </div>
        
        <div class="metric-card">
            <div class="metric-number">+15.6%</div>
            <div class="metric-title">å¹´å¢é•¿ç‡</div>
            <div class="metric-subtitle">è¿‘ä¸‰å¹´å¹³å‡</div>
        </div>
        
        <div class="metric-card">
            <div class="metric-number">5</div>
            <div class="metric-title">ä¸»è¦ç«äº‰è€…</div>
            <div class="metric-subtitle">å¸‚åœºä»½é¢>5%</div>
        </div>
        
        <div class="metric-card">
            <div class="metric-number">68%</div>
            <div class="metric-title">å¸‚åœºé›†ä¸­åº¦</div>
            <div class="metric-subtitle">å‰ä¸‰åå æ¯”</div>
        </div>
    </div>
</div>

<!-- è¶‹åŠ¿æ¦‚è§ˆ -->
{% if content.sections.trend or charts.trend_chart %}
<div class="executive-section">
    <h2>ğŸ“ˆ å‘å±•è¶‹åŠ¿</h2>
    
    {% if charts.trend_chart %}
    <div class="executive-chart">
        <div class="chart-container">
            <img src="{{ charts.trend_chart.path }}" alt="å‘å±•è¶‹åŠ¿" style="width: 100%; max-width: 600px;" />
        </div>
    </div>
    {% endif %}
    
    <div class="key-finding">
        <h4>è¶‹åŠ¿è¦ç‚¹</h4>
        <p>â€¢ æŠ€æœ¯å‘å±•å¤„äºå¿«é€Ÿå¢é•¿æœŸï¼Œå¹´å‡å¢é•¿ç‡è¶…è¿‡15%</p>
        <p>â€¢ åˆ›æ–°æ´»åŠ¨ä¸»è¦é›†ä¸­åœ¨äººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹ é¢†åŸŸ</p>
        <p>â€¢ é¢„è®¡æœªæ¥2-3å¹´å°†ç»§ç»­ä¿æŒå¼ºåŠ²å¢é•¿åŠ¿å¤´</p>
    </div>
</div>
{% endif %}

<!-- ç«äº‰æ ¼å±€ -->
{% if content.sections.competition or charts.competition_chart %}
<div class="executive-section">
    <h2>ğŸ¢ ç«äº‰æ ¼å±€</h2>
    
    {% if charts.competition_chart %}
    <div class="executive-chart">
        <div class="chart-container">
            <img src="{{ charts.competition_chart.path }}" alt="ç«äº‰æ ¼å±€" style="width: 100%; max-width: 500px;" />
        </div>
    </div>
    {% endif %}
    
    <div class="key-finding">
        <h4>ç«äº‰è¦ç‚¹</h4>
        <p>â€¢ åä¸ºæŠ€æœ¯æœ‰é™å…¬å¸é¢†å…ˆå¸‚åœºï¼Œå æ®26%ä»½é¢</p>
        <p>â€¢ å‰äº”åä¼ä¸šæ§åˆ¶è¶…è¿‡60%çš„å¸‚åœºä»½é¢</p>
        <p>â€¢ æ–°å…´ä¼ä¸šåœ¨ç»†åˆ†é¢†åŸŸå±•ç°åˆ›æ–°æ´»åŠ›</p>
    </div>
</div>
{% endif %}

<!-- æˆ˜ç•¥ä¼˜å…ˆçº§ -->
<div class="executive-section">
    <h2>ğŸ¯ æˆ˜ç•¥ä¼˜å…ˆçº§</h2>
    
    <div class="priority-box priority-high">
        <h4>ğŸ”´ é«˜ä¼˜å…ˆçº§</h4>
        <p><strong>åŠ å¼ºæ ¸å¿ƒæŠ€æœ¯ç ”å‘:</strong> åœ¨AIç®—æ³•å’Œæ·±åº¦å­¦ä¹ é¢†åŸŸå»ºç«‹æŠ€æœ¯å£å’</p>
    </div>
    
    <div class="priority-box priority-medium">
        <h4>ğŸŸ¡ ä¸­ä¼˜å…ˆçº§</h4>
        <p><strong>æ‹“å±•å›½é™…å¸‚åœº:</strong> é‡ç‚¹å…³æ³¨æ¬§ç¾å¸‚åœºçš„ä¸“åˆ©å¸ƒå±€æœºä¼š</p>
    </div>
    
    <div class="priority-box priority-low">
        <h4>ğŸŸ¢ ä½ä¼˜å…ˆçº§</h4>
        <p><strong>ç›‘æ§æ–°å…´æŠ€æœ¯:</strong> æŒç»­è·Ÿè¸ªé‡å­è®¡ç®—ç­‰å‰æ²¿æŠ€æœ¯å‘å±•</p>
    </div>
</div>

<!-- å…³é”®æ´å¯Ÿ -->
{% if content.insights %}
<div class="executive-section">
    <h2>ğŸ’¡ å…³é”®æ´å¯Ÿ</h2>
    <div class="key-finding">
        <div>{{ content.insights }}</div>
    </div>
</div>
{% endif %}

<!-- è¡ŒåŠ¨å»ºè®® -->
{% if content.recommendations %}
<div class="executive-section">
    <h2>ğŸš€ è¡ŒåŠ¨å»ºè®®</h2>
    
    <div class="recommendation-grid">
        <div class="recommendation-card">
            <div class="recommendation-title">çŸ­æœŸè¡ŒåŠ¨ (3-6ä¸ªæœˆ)</div>
            <p>â€¢ å»ºç«‹ä¸“åˆ©ç›‘æ§é¢„è­¦ç³»ç»Ÿ</p>
            <p>â€¢ åŠ å¼ºä¸é«˜æ ¡çš„äº§å­¦ç ”åˆä½œ</p>
            <p>â€¢ å®Œå–„çŸ¥è¯†äº§æƒä¿æŠ¤ç­–ç•¥</p>
        </div>
        
        <div class="recommendation-card">
            <div class="recommendation-title">ä¸­æœŸè§„åˆ’ (6-18ä¸ªæœˆ)</div>
            <p>â€¢ åœ¨æ ¸å¿ƒæŠ€æœ¯é¢†åŸŸç”³è¯·å…³é”®ä¸“åˆ©</p>
            <p>â€¢ å»ºç«‹æŠ€æœ¯æ ‡å‡†åŒ–å·¥ä½œç»„</p>
            <p>â€¢ æ‹“å±•æµ·å¤–å¸‚åœºä¸“åˆ©å¸ƒå±€</p>
        </div>
        
        <div class="recommendation-card">
            <div class="recommendation-title">é•¿æœŸæˆ˜ç•¥ (1-3å¹´)</div>
            <p>â€¢ æ„å»ºå®Œæ•´çš„ä¸“åˆ©ç”Ÿæ€ä½“ç³»</p>
            <p>â€¢ åŸ¹å…»ä¸“åˆ©è¿è¥ä¸“ä¸šå›¢é˜Ÿ</p>
            <p>â€¢ æ¢ç´¢ä¸“åˆ©è®¸å¯å’Œè½¬è®©æœºä¼š</p>
        </div>
    </div>
</div>
{% endif %}

<!-- é£é™©è¯„ä¼° -->
<div class="executive-section">
    <h2>âš ï¸ é£é™©è¯„ä¼°</h2>
    
    <div class="key-finding">
        <h4>ä¸»è¦é£é™©å› ç´ </h4>
        <p><strong>æŠ€æœ¯é£é™©:</strong> æŠ€æœ¯å‘å±•è·¯å¾„ä¸ç¡®å®šæ€§ï¼Œå¯èƒ½é¢ä¸´æŠ€æœ¯æ›¿ä»£é£é™©</p>
        <p><strong>ç«äº‰é£é™©:</strong> å¸‚åœºç«äº‰åŠ å‰§ï¼Œæ–°è¿›å…¥è€…å¯èƒ½æ”¹å˜ç«äº‰æ ¼å±€</p>
        <p><strong>æ³•å¾‹é£é™©:</strong> çŸ¥è¯†äº§æƒçº çº·å¢åŠ ï¼Œä¸“åˆ©ä¾µæƒé£é™©ä¸Šå‡</p>
    </div>
    
    <div class="key-finding">
        <h4>åº”å¯¹ç­–ç•¥</h4>
        <p>â€¢ å»ºç«‹å¤šå…ƒåŒ–æŠ€æœ¯ç»„åˆï¼Œé™ä½å•ä¸€æŠ€æœ¯ä¾èµ–</p>
        <p>â€¢ åŠ å¼ºä¸“åˆ©åˆ†æå’Œç«äº‰æƒ…æŠ¥æ”¶é›†</p>
        <p>â€¢ å®Œå–„æ³•å¾‹é£é™©é˜²æ§ä½“ç³»</p>
    </div>
</div>

<!-- ç»“è®º -->
<div class="executive-section">
    <h2>ğŸ“‹ ç»“è®º</h2>
    <div class="key-finding">
        <p style="font-size: 1.1em; font-weight: 600; color: #007acc;">
            è¯¥æŠ€æœ¯é¢†åŸŸå±•ç°å‡ºå¼ºåŠ²çš„å‘å±•åŠ¿å¤´å’Œå·¨å¤§çš„å¸‚åœºæ½œåŠ›ã€‚å»ºè®®é‡ç‚¹å…³æ³¨æ ¸å¿ƒæŠ€æœ¯ç ”å‘ï¼Œ
            åŠ å¼ºä¸“åˆ©å¸ƒå±€ï¼ŒåŒæ—¶å¯†åˆ‡ç›‘æ§ç«äº‰åŠ¨æ€ï¼ŒæŠŠæ¡å¸‚åœºæœºé‡ã€‚
        </p>
    </div>
</div>
{% endblock %}