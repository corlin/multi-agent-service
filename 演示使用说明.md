# 多智能体服务演示使用说明

## 🚀 快速开始

### 1. 最简单的方式 - 一键演示
```bash
python demo.py
```
这个程序会：
- ✅ 自动检查环境
- ✅ 展示核心功能
- ✅ 无需启动HTTP服务
- ✅ 提供后续步骤指导

### 2. 完整演示启动器
```bash
python run_demo.py
```
提供菜单选择不同类型的演示。

## 📋 演示程序列表

| 程序文件 | 功能说明 | 是否需要服务 | 推荐场景 |
|---------|---------|-------------|---------|
| `demo.py` | 一键快速演示 | ❌ 否 | 首次体验 |
| `run_demo.py` | 演示启动器 | 部分需要 | 完整体验 |
| `quick_demo.py` | 核心功能演示 | ❌ 否 | 功能验证 |
| `api_demo.py` | API接口测试 | ✅ 是 | 接口测试 |
| `interactive_demo.py` | 交互式演示 | ✅ 是 | 用户体验 |
| `comprehensive_demo.py` | 模型服务演示 | ❌ 否 | 性能测试 |
| **`multi_agent_interaction_demo.py`** | **完整多智能体交互场景** | ✅ 是 | **多智能体协作** |
| **`quick_multi_agent_demo.py`** | **快速多智能体演示** | ✅ 是 | **快速体验协作** |
| **`interactive_multi_agent_demo.py`** | **交互式多智能体演示** | ✅ 是 | **自定义场景体验** |

## 🔧 环境要求

- **Python**: 3.12+
- **包管理器**: uv
- **依赖**: 已在 `pyproject.toml` 中定义

### 安装依赖
```bash
uv sync
```

## 🔑 API配置

编辑 `.env` 文件，配置至少一个AI服务提供商：

```env
# 推荐配置（已预配置）
QWEN_API_KEY=sk-
DEEPSEEK_API_KEY=sk-  
GLM_API_KEY=.PxLyTIzIuKWF8lfN

# 可选配置
OPENAI_API_KEY=your_openai_api_key_here
```

## 🎯 推荐使用流程

### 第一次使用
1. **快速体验**: `python demo.py`
2. **查看结果**: 了解系统基本能力
3. **阅读说明**: 查看输出的后续步骤

### 深入了解
1. **启动器**: `python run_demo.py`
2. **选择演示**: 根据需要选择不同类型
3. **API测试**: 启动服务后测试API接口

### 多智能体协作体验
1. **快速体验**: `python quick_multi_agent_demo.py`
2. **完整场景**: `python multi_agent_interaction_demo.py`
3. **交互式**: `python interactive_multi_agent_demo.py`

### 开发调试
1. **核心功能**: `python quick_demo.py`
2. **模型服务**: `python comprehensive_demo.py`
3. **接口测试**: `python api_demo.py`

## 🌐 服务启动

如需启动HTTP服务：

```bash
# 开发模式
uv run uvicorn src.multi_agent_service.main:app --reload

# 或使用启动器
python run_demo.py
# 然后选择 "5. 启动服务"
```

服务地址：
- **API**: http://localhost:8000
- **文档**: http://localhost:8000/docs
- **健康检查**: http://localhost:8000/api/v1/health

## 🤖 智能体功能

系统包含5个专业智能体：

1. **销售代表** - 产品咨询、报价
2. **客服专员** - 问题解答、技术支持
3. **现场服务** - 技术服务、现场支持  
4. **管理者** - 决策分析、战略规划
5. **协调员** - 任务协调、智能体管理

## 🎬 多智能体交互场景

### 完整场景演示 (`multi_agent_interaction_demo.py`)
展示6个完整的业务场景：
1. **销售咨询流程** - 客户询问 → 销售介绍 → 客服跟进
2. **技术支持协作** - 故障报告 → 客服诊断 → 现场处理
3. **问题升级管理** - 客户投诉 → 协调员分析 → 管理者决策
4. **综合服务协作** - 复杂需求 → 多智能体并行处理 → 协调整合
5. **紧急响应处理** - 紧急故障 → 快速响应 → 多部门协同
6. **战略规划协作** - 市场分析 → 各部门输入 → 管理决策

### 快速演示 (`quick_multi_agent_demo.py`)
精简版本，快速展示5个核心场景的智能体协作。

### 交互式演示 (`interactive_multi_agent_demo.py`)
用户可以选择：
- **单智能体对话** - 与指定智能体直接对话
- **智能路由演示** - 系统自动推荐合适的智能体
- **预设场景演示** - 选择预设的业务场景
- **多智能体协作** - 输入复杂问题，多智能体协同处理

## ⚙️ 工作流类型

- **Sequential** - 顺序执行
- **Parallel** - 并行执行
- **Hierarchical** - 分层管理

## 🐛 常见问题

### Q: 演示程序无法运行？
A: 检查Python版本（需要3.12+）和依赖安装：
```bash
python --version
uv sync
```

### Q: API密钥配置错误？
A: 检查 `.env` 文件中的密钥格式，确保没有多余空格。

### Q: 服务启动失败？
A: 检查端口8000是否被占用：
```bash
netstat -an | grep 8000
```

### Q: 智能体无响应？
A: 检查API密钥是否有效，网络连接是否正常。

## 📞 获取帮助

1. **查看日志**: `logs/` 目录
2. **检查配置**: `config/` 目录  
3. **阅读文档**: `README.md`
4. **运行检查**: `python run_demo.py` → 选择 "6. 环境检查"

---

**开始您的多智能体协作之旅！** 🚀